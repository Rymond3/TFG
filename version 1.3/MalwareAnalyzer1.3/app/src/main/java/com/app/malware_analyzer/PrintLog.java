package com.app.malware_analyzer;

import android.content.pm.PackageInfo;
import android.os.Bundle;
import android.os.Environment;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;

import javax.xml.xpath.XPathExpressionException;

public class PrintLog extends AppCompatActivity {
    PackageInfo app;

    public PrintLog(){    }

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.print_log);
        File path = Environment.getExternalStoragePublicDirectory(DOWNLOAD_SERVICE);
        File file = new File(path, "log.txt");
        try {
            Process process = Runtime.getRuntime().exec("logcat *:I -f" + file);
/*
            BufferedReader bufferedReader = new BufferedReader(
                    new InputStreamReader(process.getInputStream()));

            StringBuilder log=new StringBuilder();
            String line = "", text = "";

            while ((line = bufferedReader.readLine()) != null) {
                //log.append(line + '\n');
                text += line;
                //tv.setText(log.toString());
            }
            writeToFile(text);*/
        }
        catch (IOException e) { }

        Toast.makeText(this, "Log escrito", Toast.LENGTH_LONG).show();

    }

}
